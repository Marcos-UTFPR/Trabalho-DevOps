### Variáveis
@baseURL = http://localhost:8080
@token = SEU_TOKEN_AQUI

#############################################
# AUTENTICAÇÃO
#############################################

### 1. Login - Obter Token JWT
# IMPORTANTE: Execute este primeiro para obter o token!
# Depois copie o IdToken da resposta e cole na variável @token acima
POST {{baseURL}}/auth/login
Content-Type: application/json

{
    "username": "usuarioteste",
    "password": "senhateste"
}

### 2. Validar Token
# Teste se o token está válido
POST {{baseURL}}/auth/validate
Authorization: Bearer {{token}}

### 3. Renovar Token (Refresh)
# Use quando o token expirar
POST {{baseURL}}/auth/refresh
Content-Type: application/json

{
    "refreshToken": "cole-seu-refresh-token-aqui",
    "username": "usuarioteste"
}

#############################################
# DEVICE - Gerenciamento de Dispositivos
#############################################

### 4. Listar Todos os Dispositivos
GET {{baseURL}}/device?page=0&size=10
Authorization: Bearer {{token}}

### 5. Buscar Dispositivo por ID
# Substitua {deviceId} por um UUID real
GET {{baseURL}}/device/uuid-do-dispositivo-aqui
Authorization: Bearer {{token}}

### 6. Criar Novo Dispositivo
# Substitua {siloId} por um UUID de silo existente
POST {{baseURL}}/device/uuid-do-silo-aqui
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "ip": "192.168.1.100",
    "mac": "AA:BB:CC:DD:EE:FF"
}

### 7. Atualizar Dispositivo
# Substitua {deviceId} por um UUID real
PUT {{baseURL}}/device/uuid-do-dispositivo-aqui
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "ip": "192.168.1.200",
    "mac": "11:22:33:44:55:66"
}

### 8. Deletar Dispositivo
# Substitua {deviceId} por um UUID real
DELETE {{baseURL}}/device/uuid-do-dispositivo-aqui
Authorization: Bearer {{token}}

#############################################
# PERSON - Gerenciamento de Pessoas
#############################################

### 9. Listar Todas as Pessoas
GET {{baseURL}}/person?page=0&size=10
Authorization: Bearer {{token}}

### 10. Criar Nova Pessoa
POST {{baseURL}}/person
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "João Silva"
}

### 11. Deletar Pessoa (Requer Role ADMIN)
# Substitua {id} por um UUID real
DELETE {{baseURL}}/person/uuid-da-pessoa-aqui
Authorization: Bearer {{token}}